#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <windows.h>
#include <winbase.h>
#include <psapi.h>

double get_memory_used_MB()
{
    PROCESS_MEMORY_COUNTERS info;
    GetProcessMemoryInfo( GetCurrentProcess( ), &info, sizeof(info) );
    return (double)info.PeakWorkingSetSize/ (1024*1024);
}
/*******************************************************/
void imprimeVetor(int vetor[], int n)
{
    for(int i=0; i<n; i++)
        printf("V[%d] = %d\n", i, vetor[i]);
}
/*******************************************************/
void crescente(int vetor[], int n)
{
    for (int i = 0; i < n; i++)
      vetor[i] = i;

      //imprimeVetor(vetor, n);
}
/*******************************************************/
void decrescente(int vetor[], int n)
{
    for (int i = 0; i < n; i++)
        vetor[i] = n - 1 - i;

    //imprimeVetor(vetor, n);
}
/*******************************************************/
void aleatorio(int vetor[], int n)
{
    int aux;

    crescente(vetor, n);

    for(int i=0; i<n; i++)
    {
        aux = vetor[i];
        int j=rand()%n;
        vetor[i] = vetor[j];
        vetor[j] = aux;
    }

    //imprimeVetor(vetor, n);
}
/*******************************************************/
void bolha(int vetor[], int n)
{
    int aux=0;

    for(int i=(n-1); i>0; i--)
    {
        for(int j=0; j<i; j++)
        {
            if(vetor[j] > vetor[j+1])
            {
                aux = vetor[j];
                vetor[j] = vetor[j+1];
                vetor[j+1] = aux;
            }
        }
    }

    //imprimeVetor(vetor, n);
}
/**************************************************************/

void selecao(int vetor[], int n)
{
    int i, j, aux=0;

    for(i = 0; i < (n - 1); i++)
    {
      int menor = i;

      for (j = (i + 1); j < n; j++)
      {
         if (vetor[menor] > vetor[j])
         {
            menor = j;
         }
      }

      aux = vetor[menor];
      vetor[menor] = vetor[i];
      vetor[i] = aux;
    }

    //imprimeVetor(vetor, n);
}
/**************************************************************/

void insercao(int vetor[], int n)
{
    for(int i=1; i<n; i++)
    {
        int tmp = vetor[i];
        int j = i - 1;

        while((j >= 0) && (vetor[j] > tmp))
        {
            vetor[j+1] = vetor[j];
            j--;
        }

        vetor[j+1] = tmp;
    }

    //imprimeVetor(vetor, n);
}
/**************************************************************/
int main()
{
    clock_t start_time, end_time;
    double cpu_time_used, memory_used;
    size_t peakSize;
    srand(time(NULL));

    int n;

    printf("Defina o tamanho do vetor: ");
    scanf("%d", &n);

    int *vetor = malloc(n*sizeof(int));

    printf("\n\nCRESCENTE: \n\n");

    start_time = clock();
    crescente(vetor, n);
    //printf("\n\nVETOR ORDENADO (BOLHA):\n\n");
    bolha(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);


    start_time = clock();
    crescente(vetor, n);
    //printf("\n\nVETOR ORDENADO(SELEÇÃO):\n\n");
    selecao(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);

    start_time = clock();
    crescente(vetor, n);
    //printf("\n\nVETOR ORDENADO (INSERCAO):\n\n");
    insercao(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);

    printf("\n\nDECRESCENTE: \n\n");

    start_time = clock();
    decrescente(vetor, n);
    //printf("\n\nVETOR ORDENADO (BOLHA):\n\n");
    bolha(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);


    start_time = clock();
    decrescente(vetor, n);
    //printf("\n\nVETOR ORDENADO(SELEÇÃO):\n\n");
    selecao(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);

    start_time = clock();
    decrescente(vetor, n);
    //printf("\n\nVETOR ORDENADO (INSERCAO):\n\n");
    insercao(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);

    printf("\n\nALEATÓRIO: \n\n");

    start_time = clock();
    aleatorio(vetor, n);
    //printf("\n\nVETOR ORDENADO (BOLHA):\n\n");
    bolha(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);


    start_time = clock();
    aleatorio(vetor, n);
    //printf("\n\nVETOR ORDENADO(SELEÇÃO):\n\n");
    selecao(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);

    start_time = clock();
    aleatorio(vetor, n);
    //printf("\n\nVETOR ORDENADO (INSERCAO):\n\n");
    insercao(vetor, n);
    end_time = clock();
    cpu_time_used = ((double) (end_time - start_time)) / CLOCKS_PER_SEC;
    memory_used = get_memory_used_MB();
    printf("Tempo: %0.2f segundos - Memoria: %0.2f MB\n",cpu_time_used, memory_used);

    return 0;
}
